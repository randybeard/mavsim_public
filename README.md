# Small Unmanned Aircraft: Theory and Practice

<img src="./bookcover.jpg" width="100" />

[Randy Beard](https://ece.byu.edu/directory/randy-beard), 
[Tim McLain](http://me.byu.edu/faculty/timmclain)

[Princeton University Press, 2012](http://press.princeton.edu/titles/9632.html)

[uavbook.pdf](https://www.dropbox.com/s/yh13al4bz3n0n67/uavbook.pdf?dl=0)
  This file is a work in progress.  The intent is that this file will eventually become a second edition to the book.  But beware, it has not been carefully proof read, and we continue to update it regularly.

## Lecture Material

The following lecture materials are included as a resource for instructors.  The slides closely follow the book.

| Chapter | PDF Slides | Powerpoint | Last Modified |
|---------|------------|------------|----------|
| Chapter 1 - Introduction | [chap1.pdf](https://drive.google.com/file/d/1BgkuPdWmuBEjq4wjoKsQt478QV647QF1/view?usp=sharing) | [chap1.pptx](https://docs.google.com/presentation/d/1069hP_fnDPJ7n0Yn9XWzCKAQD9GAdNtp/edit?usp=sharing&ouid=115325376918178448854&rtpof=true&sd=true) | 4/4/2022  |
| Chapter 2 - Coordinate Frames | [chap2.pdf](https://drive.google.com/file/d/1BhIit4UtQw8ZNq0OuVPiBfhZjbGl2vAM/view?usp=sharing) | [chap2.pptx](https://docs.google.com/presentation/d/1BNcvtAA3_X0Et8xZiMOweiBR8-C3c6Ze/edit?usp=sharing&ouid=115325376918178448854&rtpof=true&sd=true) | 1/11/2019  |
| Chapter 3 - Kinematics and Dynamics | [chap3.pdf](https://drive.google.com/file/d/1BOwGqoJ2WjiIUYDA8p77TGwV-Ttrd4hc/view?usp=sharing) | [chap3.pptx](https://docs.google.com/presentation/d/1BQsToiKlEMoJvgGMwaeCR74O0-SWdaxs/edit?usp=sharing&ouid=115325376918178448854&rtpof=true&sd=true) | 1/18/2024 |
| Chapter 4 - Forces and Moments | [chap4.pdf](https://drive.google.com/file/d/1BjJuj8QLWV9E1FX6sHVHXIGaIizUaAJ5/view?usp=sharing) | [chap4.pptx](https://docs.google.com/presentation/d/1BQUoSlMYmB1Ni-PPFfyMbsSvPC_z26av/edit?usp=sharing&ouid=115325376918178448854&rtpof=true&sd=true)  | 1/21/2022 |
| Chapter 5 - Linear Design Models | [chap5.pdf](https://drive.google.com/file/d/1BRS8PaOMrFdotGgb7oXOZloANh3fzUAo/view?usp=sharing) | [chap5.pptx](https://docs.google.com/presentation/d/1BfpnwWnK5A31pZdNu3rZ48Nu3AefLnfk/edit?usp=sharing&ouid=115325376918178448854&rtpof=true&sd=true)  | 2/10/2022 |
| Chapter 6 - Autopilot Design | [chap6.pdf](https://drive.google.com/file/d/1BfLD2KDyalXuANrA14RC29EWIw3xF4fU/view?usp=sharing) | [chap6.pptx](https://docs.google.com/presentation/d/1BPBHWl0PiHGs43uYlk_qiRLSvKXZrx9G/edit?usp=sharing&ouid=115325376918178448854&rtpof=true&sd=true)  | 2/10/2022 |
| Chapter 7 - Sensors | [chap7.pdf](https://drive.google.com/file/d/1BMceIPDGzBda9w5R5LrNnouabS8lQ9s_/view?usp=sharing) | [chap7.pptx](https://docs.google.com/presentation/d/1BRVcewET8_s5urj7NmXIDZUsrej0kvDw/edit?usp=sharing&ouid=115325376918178448854&rtpof=true&sd=true)  | 2/14/2022 |
| Chapter 8 - State Estimation | [chap8.pdf](https://drive.google.com/file/d/1BSbH_F7KbP4tnSOwurSScwoVGsrTmHpg/view?usp=sharing) | [chap8.pptx](https://docs.google.com/presentation/d/1BSgBhzfr4RhCdZn-HX4v3pY1bCLp5YC0/edit?usp=sharing&ouid=115325376918178448854&rtpof=true&sd=true)  | 2/27/2022 |
| Chapter 9 - Nonlinear Design Models | [chap9.pdf](https://drive.google.com/file/d/1BelIP25e4QFLps4Rr49jyzP1maox328C/view?usp=sharing) | [chap9.pptx](https://docs.google.com/presentation/d/1BiQW_uHnIt9JfBFo4hMPqclEEbza7HVL/edit?usp=sharing&ouid=115325376918178448854&rtpof=true&sd=true)  | 11/4/2014 |
| Chapter 10 - Waypoint and Orbit Following | [chap10.pdf](https://drive.google.com/file/d/1BLu3HMqT8-OW1ys-xyoZup_wtSX_v3bq/view?usp=sharing) | [chap10.pptx](https://docs.google.com/presentation/d/1-ZHy0ZFqL6NHSczAFKX2qdaY6gI8CPBF/edit?usp=sharing&ouid=115325376918178448854&rtpof=true&sd=true)  | 3/11/2022 |
| Chapter 11 - Path Manager | [chap11.pdf](https://drive.google.com/file/d/1BhtShrqNmy14c7k_R0Ayn-kW8IyZ1Jc3/view?usp=sharing) | [chap11.pptx](https://docs.google.com/presentation/d/1BUhwTIXyWRpKR8hPGnqNi7Z8tHGEC3pY/edit?usp=sharing&ouid=115325376918178448854&rtpof=true&sd=true)  | 03/21/2022 |
| Chapter 12 - Path Planning | [chap12.pdf](https://drive.google.com/open?id=1BYx4o9P_fJOLZX2myGs3UrlUqkvLZWEo&authuser=randy.beard%40gmail.com&usp=drive_fs) | [chap12.pptx](https://docs.google.com/presentation/d/1BaMLi2jQSZSfDlGhnDnIbq7AnoDtDMLv/edit?usp=sharing&ouid=115325376918178448854&rtpof=true&sd=true)  | 04/03/2017 |
| Chapter 13 - Cameras| [chap13.pdf](https://drive.google.com/file/d/1BZ2CogzLgJWudjRf7Mbldu7niqdTg9ss/view?usp=sharing) | [chap13.pptx](https://docs.google.com/presentation/d/1Bfw9UboxHPoOi0mAUc1srGIhUwQxW_fo/edit?usp=sharing&ouid=115325376918178448854&rtpof=true&sd=true)  | 04/10/2017 |

## Project Files 

The template files in this github account are provided to help students with the project outlined in the book.  We have found that if students start with these files, that they can generally do the project in about 3 hours per chapter.  Full solutions to the project are available from instructors upon request.  We respectfully ask that students and instructors do not post full solutions to the project anywhere on the web.  The project creates an excellent learning experience and we believe that anyone who works the project for themselves will be much better equipped to make contributions to the state of the art in small unmanned air vehicles. 

## Comments
* There are some issues with the Zagi coefficients given in the textbook.  We recommend that you use the following (slightly modified from the book) coefficients for the aerosonde aircraft. [aerosonde.m](project/aerosonde.zip)
* For the Aerosonde model use an initial speed of Va = 35 m/s, and and radius of 250 meters.
* Additional information: The Aerosonde weight is actually 25kg.  Also, the cruise speed is approximately Va=35 m/s.

## Video Solutions 
* [YouTube video showing solution for Chapter 2.](http://youtu.be/LgiHUznfP_4)
* [YouTube video showing solution for Chapter 3.](http://youtu.be/KCoRO-G-VPg)
* [YouTube video showing solution for Chapter 4.](http://youtu.be/jT5_ZDyNCTI)
* [YouTube video showing solution for Chapter 5.](http://youtu.be/cyLi8WAbOWs)
* [YouTube video showing solution for Chapter 6.](http://youtu.be/1CoF2rJHs4c)
* [Screen shot of estimation results](project/chap8_results.zip)
* [YouTube video showing solution for Chapter 10.](http://youtu.be/1NEssGinf_8)
* [YouTube video showing solution for Chapter 11.](http://youtu.be/aGAdjbtSoso)
* [YouTube video showing solution for Chapter 12.](http://youtu.be/bdYb45bpID4)

## Supplemental Material

Our intention is to occasionally add supplemental material to this page.  We would also welcome contributions from the broader community.  If you are interested in adding material, please contact the authors. 

* **Adaptation of MavSim to Underwater Vehicles**
    * [Underwater simulator](https://bitbucket.org/jfarrant/python_fixedwing_mavsim)
    by James Farrant 

* **Full Longitudinal State Direct and Indirect Kalman Filter**
The Kalman filters presented in the book are meant to be tutorial and are intended for aircraft with very limited processors.  Estimating the full state using all available sensors is a much better approach.  There are two methods for constructing the Kalman filter: direct state estimation, and indirect state estimation.  The following pdf and Simulink model describes and implements both filters for the full longitudinal state.  You will note from the simulation, that this method works much better than that described in the book.  
    * [UAVBook Supplement on Kalman Filtering.(updated 3/15/2017)](https://drive.google.com/file/d/1BykD4nuG7dsSfZqCPxO3Sx9zug8pLblt/view?usp=sharing) 
    * [Simulation of both filters for the Longitudinal States.](https://drive.google.com/file/d/1BxVKGlevI9ggi5BnS39tEGzBdzYbmboB/view?usp=sharing)

* **Dropping an Object on a Target**
    * [UAVBook Supplement on Object Dropping. (updated 10/25/2017)](https://drive.google.com/file/d/1Bp82Zcr4HBaqA-RObUA5uBVb0IWK651e/view?usp=sharing)

* **Dubins Airplane Paths**
    The Dubins paths discussed in Chapter 11 assume that the MAV is flying at a constant altitude.  The associated model is typically called a Dubins car model.  The Dubins car can be extended to a Dubins airplane model that includes altitude.  An explanation of the associated Dubins airplane paths is discussed in:
    * Mark Owen, Randal W. Beard, Timothy W. McLain, “Implementing Dubins Airplane Paths on Fixed-wing UAVs,” Handbook of Unmanned Aerial Vehicles, ed. Kimon P. Valavanis, George J. Vachtsevanos, Springer Verlag, Section XII, Chapter 68, p. 1677-1702, 2014. [Preprint.](https://drive.google.com/file/d/1BnRrIl1Kc7B674GPAv5yik1wrfCtStai/view?usp=sharing)
    * [Simulink files implementing Dubins airplane paths.](https://drive.google.com/file/d/1BzMnfsncxxOInVSVGpuugRqCjJBnSbmU/view?usp=sharing)  Run the Simulink file mavsim_dubins.slx.

* **Feedforward term for Orbit Following**
    Orbit following can be improved by adding a feedforward term on the roll angle.   The description in the wind and no wind case are given here:
    * [UAVBook Supplement on Feedforward for Orbit Following.](https://drive.google.com/file/d/1BsqTqIOWB1MreGTr2WjwCplAdMXZx00Z/view?usp=sharing)

* **Zagi Coefficients**
    The aerodynamic coefficients for the Zagi aircraft as given in the book, come from [this paper.](https://drive.google.com/file/d/1ByIODhuEInhebfH5-wlHbGHxyO3PA62H/view?usp=sharing)

* **Total Energy Control**
    An alternative to the longitudinal autopilot described in the textbook is the "Total Energy Control System" described [here](https://drive.google.com/file/d/1Bor3cVtHWZI0TN-gkThKBMWIAqOc5DBr/view?usp=sharing).
    
    A nonlinear version of the total energy control system is described in the following paper.
      
    Matthew Argyle, Randal W. Beard, “Nonlinear Total Energy Control for the Longitudinal Dynamics of an Aircraft,” Proceedings of the American Control Conference, Boston, MA, 2016. [PDF](https://drive.google.com/file/d/1ByPPrxSrBNcFMv35rYhIezPpBGP_h_ic/view?usp=sharing)
    
    For more detail, see Chapter 6 of 
    
    Matthew E. Argyle, “Modeling and Control of a Tailsitter with a Ducted Fan,” PhD Dissertation, Brigham Young University, 2016.  [PDF](https://drive.google.com/file/d/1BvHV0jO2BvOaUOhbPEWAEJXuH0SVActa/view?usp=sharing)
    * The advantage of the total energy control method is that it is independent of the aerodynamic model.

* **Accelerometers and Attitude Control For Multi-rotors**
    Accelerometers are often used to estimate the roll and pitch angles of multi-rotor vehicles.  It turns out that since the aerodynamics of multi-rotors are quite different than fixed wing vehicles, the method described in the book does not work for multi-rotor vehicles.  An detailed explanation of what data can be extracted from accelerometers on multi-rotor vehicles is given in 
      * Robert Leishman, John Macdonald, Randal W. Beard, Timothy W. McLain, “Quadrotors and Accelerometers: State Estimation with an Improved Dynamic Model,”  IEEE Control Systems Magazine, vol. 34, no. 1, p. 28-41, February, 2014. [Preprint](https://drive.google.com/file/d/1BnmrOpGfBuE_MIGxtByq6Z2kwcaklSrM/view?usp=sharing).

* **Kalman Filter**
    For a nice introduction to Kalman filtering, view the [section chapter](https://www.udacity.com/course/viewer#!/c-cs373/l-48723604) of the Udacity course on Artificial Intelligence by Sebastian Thurn.

* **Weather and Wind Data**
    [Web site](http://www.usairnet.com/cgi-bin/launch/code.cgi?Submit=Go&sta=KPVU&state=UT) for hour by hour wind and weather information

* **Student Projects (sample)**
    
    **Nathan Madsen, 2014** [Implemented a model of landing gear and runway interactions, together with an auto landing function.](https://drive.google.com/file/d/1BrYEfp4L_d04B5dN3vPePlo74pE9GzDT/view?usp=sharing)
    
    **Andrew Hendrick, 2014** [Computed the aerodynamic coefficients of a Zagi and  Pelican using AVL](https://drive.google.com/file/d/1BvIKYjPv6ZW9iafDMKswumowi2FW8CLz/view?usp=sharing)
    
    **Michael Boren, 2014** Implementation of the RRT* algorithm. [Project](https://drive.google.com/file/d/1Bq4HsfX3i6N6AED3UnU8ozhsMs2mUCcM/view?usp=sharing)
    
    **Michael Eyler, 2019** [LQR control](https://github.com/eyler94/EE674LQR.git)
    
    **Brandon Forsgren, 2019**  [ROS/C++ implementation](https://github.com/b4sgren/mav_simulator)
    
    **Derek Knowles, 2019** [Path planning Voronoi graphs](https://github.com/betaBison/EC-EN-674-Flight-Dynamics-Controls/tree/master/project)
    
    **Easton Potokar, 2022** [Application to Underwater Vehicles](https://github.com/contagon/AUVControl)
    
    **Mason Peterson, 2022** [Quadplane Trajectory Tracker](https://github.com/mbpeterson70/quadplane_project)
    
   <!-- BROKEN LINK **Dan Richards, 2022** [Unit Tests on several chapters](https://github.com/dcrich/MAV-Unit-Tests) -->
    
    **John Morrell, 2022** [Eigenstructure Assignment](https://github.com/Tarnarmour/FlightDynamics_Eigenstructure/blob/main/README.md)
    
    




